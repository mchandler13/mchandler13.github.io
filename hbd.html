<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Happy Birthday!</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
  </head>
  <body>
  </body>
  <script>
  body=d3.select("body").style("background-color","white").style("margin","0px")
  svg=d3.select("body").append("svg")
          .attr("width","100%")
          .attr("height",1000)
          .style("background-color","#7cdbd5")
  svg_width=parseInt(svg.style("width"), 10)
  show_menu()
  function show_menu(){
    hbd=svg.append("text")
            .attr("x",svg_width/2)
            .attr("y",120)
            .attr("text-anchor","middle")
            .style("font-size",0)
            .text("Alyssa's Birthday Website")
            .style("font-family","cursive")
            .style("text-decoration","underline")
            .attr("fill","#f53240")
            .transition()
            .duration(500)
            .style("font-size",100)
    start_animations=svg.append("text")
            .attr("x",svg_width/2)
            .attr("y",300)
            .attr("text-anchor","middle")
            .style("font-size",0)
            .text("-Click here to paint a pretty picture!")
            .attr("fill","#e52a6f")
            .on("mouseover",function(){
              d3.select(this)
                .attr("fill","#ffff00")
                .attr("cursor","pointer")
            })
            .on("mouseleave",function(){
              d3.select(this)
                .attr("fill","#e52a6f")
                .attr("cursor","default")
            })
            .on("click",function(){
              d3.select(this)
                .transition()
                .duration(1000)
                  .attr("y",10000)
                  .on("end",draw_sky)
              svg.selectAll("text").remove()
              svg.selectAll("image")
                .transition()
                .duration(1000)
                  .style("opacity",0)
                  .remove()
              svg.transition()
                  .duration(1000)
                  .style("background-color","white")
            })
    start_animations.transition()
                .duration(500)
                .delay(500)
                .style("font-size",60)
    youtube_links=svg.append("text")
            .attr("x",svg_width/2)
            .attr("y",400)
            .attr("text-anchor","middle")
            .style("font-size",0)
            .text("-Click here for some awesome youtube videos!")
            .attr("fill","#e52a6f")
            .on("mouseover",function(){
              d3.select(this)
                .attr("fill","#ffff00")
                .attr("cursor","pointer")
            })
            .on("mouseleave",function(){
              d3.select(this)
                .attr("fill","#e52a6f")
                .attr("cursor","default")
            })
            .on("click",function(){
              svg.selectAll("image").transition()
                .duration(500)
                .style("opacity",0)
                .remove()
              svg.selectAll("text").transition()
                .duration(500)
                .style("opacity",0)
                .remove()
                .on("end",show_vids)
            })
    youtube_links.transition()
                .duration(500)
                .delay(1000)
                .style("font-size",60)
    svg.append("image")
        .attr("x",.15*svg_width)
        .attr("y",500)
        .attr('width', .2*svg_width)
        .attr('height', 400)
        .style("opacity",0)
        .attr("xlink:href", "alyssa_llama.JPG")
        .transition()
        .delay(1500)
        .duration(500)
          .style("opacity",1)
    svg.append("image")
        .attr("x",.4*svg_width)
        .attr("y",500)
        .attr('width', .2*svg_width)
        .attr('height', 400)
        .style("opacity",0)
        .attr("xlink:href", "alyssa_me_sunset.jpg")
        .transition()
        .delay(1700)
        .duration(500)
          .style("opacity",1)
    svg.append("image")
        .attr("x",.65*svg_width)
        .attr("y",500)
        .attr('width', .2*svg_width)
        .attr('height', 400)
        .style("opacity",0)
        .attr("xlink:href", "alyssa_me_co.jpg")
        .transition()
        .delay(1900)
        .duration(500)
          .style("opacity",1)
  }
  function show_vids(){
    svg.append("rect")
      .attr("x",.2*svg_width)
      .attr("y",0)
      .attr("width",.6*svg_width)
      .attr("height",0)
      .style("fill","#3bbaa4")
      .transition()
      .duration(1000)
        .attr("height",1000)
        goBack2=svg.append("text")
                .attr("id","goBack2")
                .attr("x",svg_width/2)
                .attr("y",800)
                .attr("text-anchor","middle")
                .style("font-size",0)
                .attr("fill","white")
                .text("Back to Menu")
                .on("mouseover",function(){
                  d3.select(this)
                    .attr("fill","yellow")
                    .attr("cursor","pointer")
                })
                .on("mouseleave",function(){
                  d3.select(this)
                    .attr("fill","white")
                    .attr("cursor","default")
                })
                .on("click",function(){
                  d3.select(this)
                    .transition()
                    .duration(1000)
                      .attr("y",-10000)
                      .on("end",function(){
                        svg.selectAll("rect")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.selectAll("polygon")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.selectAll("text")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.selectAll("path")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.selectAll("circle")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.style("background-color","#7cdbd5")
                        show_menu()
                      })
                })
        goBack2.transition()
                .delay(4000)
                .duration(500)
                  .style("font-size",50)


    svg.append("text")
      .attr("x",.5*svg_width)
      .attr("y",70)
      .attr("text-anchor","middle")
      .style("font-size",28)
      .text("Corgi Videos")
      .style("text-decoration","underline")
      .style("opacity",0)
      .transition()
      .delay(1000)
      .duration(500)
      .style("opacity",1)
    svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=oVXZTmi2ruI").attr("target","_blank")
      .append("text")
      .attr("x",.5*svg_width)
      .attr("y",100)
      .attr("text-anchor","middle")
      .style("font-size",20)
      .attr("fill","#af357e")
      .text("35 corgis to get you through your day")
      .style("opacity",0)
      .transition()
      .delay(1000)
      .duration(500)
      .style("opacity",1)
    svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=Dsg8JccRZCw").attr("target","_blank")
      .append("text")
      .attr("x",.5*svg_width)
      .attr("y",130)
      .attr("text-anchor","middle")
      .style("font-size",20)
      .attr("fill","#af357e")
      .text("5 Corgi Puppies Running")
      .style("opacity",0)
      .transition()
      .delay(1000)
      .duration(500)
      .style("opacity",1)
    svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=glii-kazad8").attr("target","_blank")
      .append("text")
      .attr("x",.5*svg_width)
      .attr("y",160)
      .attr("text-anchor","middle")
      .style("font-size",20)
      .attr("fill","#af357e")
      .text("Corgi Belly Flop")
      .style("opacity",0)
      .transition()
      .delay(1000)
      .duration(500)
      .style("opacity",1)
    svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=EkB0DKv82Os").attr("target","_blank")
      .append("text")
      .attr("x",.5*svg_width)
      .attr("y",190)
      .attr("text-anchor","middle")
      .style("font-size",20)
      .attr("fill","#af357e")
      .text("Corgi Sploot")
      .style("opacity",0)
      .transition()
      .delay(1000)
      .duration(500)
      .style("opacity",1)

      svg.append("text")
        .attr("x",.5*svg_width)
        .attr("y",280)
        .attr("text-anchor","middle")
        .style("font-size",28)
        .text("Bunny Videos")
        .style("text-decoration","underline")
        .style("opacity",0)
        .transition()
        .delay(1500)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=aD9xQaDAuQw").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",310)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Baby Bunny Song")
        .style("opacity",0)
        .transition()
        .delay(1500)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=sP70_JCtRcw").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",340)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Tiny Baby Bunnies")
        .style("opacity",0)
        .transition()
        .delay(1500)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=UWYMpuQ6Thc").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",370)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Baby Bunnies Eating a Carrot")
        .style("opacity",0)
        .transition()
        .delay(1500)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=USZzI2inTMw").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",400)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Bunny at the Beach")
        .style("opacity",0)
        .transition()
        .delay(1500)
        .duration(500)
        .style("opacity",1)

      svg.append("text")
        .attr("x",.5*svg_width)
        .attr("y",500)
        .attr("text-anchor","middle")
        .style("font-size",28)
        .text("Other Funny Animals")
        .style("text-decoration","underline")
        .style("opacity",0)
        .transition()
        .delay(2000)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=SNggmeilXDQ").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",530)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Baby Elephants")
        .style("opacity",0)
        .transition()
        .delay(2000)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=sGF6bOi1NfA").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",560)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Cute Pandas")
        .style("opacity",0)
        .transition()
        .delay(2000)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=sYVBlqDEfqE").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",590)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Fluffy Dogs")
        .style("opacity",0)
        .transition()
        .delay(2000)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=SMHv9BDYQ5Y").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",620)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Mini Donkey With Lots of Energy")
        .style("opacity",0)
        .transition()
        .delay(2000)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=sqjwOuIDcoI").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",650)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Baby Giraffe Learns to Walk")
        .style("opacity",0)
        .transition()
        .delay(2000)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=2lv76EZgSmQ").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",680)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Guinea Pigs Eat Brussel Sprouts")
        .style("opacity",0)
        .transition()
        .delay(2000)
        .duration(500)
        .style("opacity",1)
      svg.append("a").attr("xlink:href", "https://www.youtube.com/watch?v=u155ncSlkCk").attr("target","_blank")
        .append("text")
        .attr("x",.5*svg_width)
        .attr("y",710)
        .attr("text-anchor","middle")
        .style("font-size",20)
        .attr("fill","#af357e")
        .text("Panda Attempts a Daring Escape")
        .style("opacity",0)
        .transition()
        .delay(2000)
        .duration(500)
        .style("opacity",1)

  }

  function draw_sky(){
    sky=svg.append("rect")
            .attr("x",0)
            .attr("y",0)
            .attr("width","100%")
            .attr("height",0)
            .style("fill","#00BFFF")
    sky.transition()
    .duration(1000)
      .attr("height",500)
    svg.append("text")
            .attr("id","thisIsSky")
            .attr("x",svg_width/2)
            .attr("y",0)
            .attr("text-anchor","middle")
            .style("font-size",60)
            .text("This is the sky!")
            .transition()
            .duration(1000)
              .attr("y",300)
    svg.append("text")
            .attr("id","nothingHere")
            .attr("x",-5000)
            .attr("y",700)
            .attr("text-anchor","middle")
            .style("font-size",60)
            .text("Nothing down here though...")
            .transition()
            .delay(1000)
            .duration(1000)
              .attr("x",svg_width/2)
    add_foreground=svg.append("text")
            .attr("x",-5000)
            .attr("y",770)
            .attr("text-anchor","middle")
            .style("font-size",60)
            .text("Click here to add some color to the foreground!")
            .on("mouseover",function(){
              d3.select(this)
                .attr("fill","green")
                .attr("cursor","pointer")
            })
            .on("mouseleave",function(){
              d3.select(this)
                .attr("fill","black")
                .attr("cursor","default")
            })
            .on("click",function(){
              d3.select("#thisIsSky")
                    .transition()
                    .duration(1000)
                    .attr("x",10000)
              d3.select("#nothingHere")
                    .transition()
                    .duration(1000)
                    .attr("x",10000)
              d3.select(this)
                .transition()
                .duration(1000)
                  .attr("x",10000)
                  .on("end",draw_foreground)
            })


    add_foreground.transition()
            .delay(2000)
            .duration(1000)
              .attr("x",svg_width/2)
    draw_stars()
  }




  function draw_foreground(){
    foreground=svg.append("rect")
        .attr("class","foreground")
        .attr("x",0)
        .attr("y",500)
        .attr("width","100%")
        .attr("height",0)
        .style("fill","#20aF2F")
    foreground.transition()
    .duration(1000)
      .attr("height",500)

    svg.append("text")
            .attr("id","stillBoring")
            .attr("x",svg_width/2)
            .attr("y",300)
            .attr("text-anchor","middle")
            .style("font-size",0)
            .text("Still pretty boring...")
            .transition()
            .delay(1000)
            .duration(1000)
              .style("font-size",50)
    add_sun=svg.append("text")
            .attr("id","addSun")
            .attr("x",svg_width/2)
            .attr("y",400)
            .attr("text-anchor","middle")
            .style("font-size",0)
            .attr("fill","white")
            .text("Maybe add the Sun?")
            .on("mouseover",function(){
              d3.select(this)
                .attr("fill","yellow")
                .attr("cursor","pointer")
            })
            .on("mouseleave",function(){
              d3.select(this)
                .attr("fill","white")
                .attr("cursor","default")
            })
            .on("click",function(){
              d3.select("#stillBoring")
                    .transition()
                    .duration(1000)
                    .attr("x",10000)
              d3.select(this)
                .transition()
                .duration(1000)
                  .attr("x",-10000)
                  .on("end",draw_sun)
            })

    add_sun.transition()
            .delay(2200)
            .duration(1000)
              .style("font-size",50)
  }



  function draw_boats(x,y){
    svg.append("polygon")
        .attr("class","boat1")
        .attr("points",function(){
          l= .4*svg_width+",550 "+.41*svg_width+",550 "+.4*svg_width+",480"
          l= x+","+y+" "+(x+.01*svg_width)+","+y+" "+x+","+(y-70)+" "
          return l
        })
        .attr("fill-opacity",0)
        .transition()
        .duration(1000)
          .attr("fill-opacity",1)
          .attr("fill","white")
          .attr("stroke-width",0)
          .attr("stroke","white")
    svg.append("polygon")
        .attr("class","boat1")
        .attr("points",function(){
          l= .39*svg_width+",550 "+.398*svg_width+",550 "+.398*svg_width+",510"
          l= (x-.01*svg_width)+","+y+" "+(x-.002*svg_width)+","+y+" "+(x-.002*svg_width)+","+(y-40)+" "
          return l
        })
        .attr("fill-opacity",0)
        .transition()
        .duration(1000)
          .attr("fill-opacity",1)
          .attr("fill","white")
          .attr("stroke-width",0)
          .attr("stroke","white")
    svg.append("polygon")
        .attr("class","boat1")
        .attr("points",function(){
          l= .385*svg_width+",552 "+.415*svg_width+",552 "+.41*svg_width+",560 "+.39*svg_width+",560"
          l= (x-.015*svg_width)+","+(y+2)+" "+(x+.015*svg_width)+","+(y+2)+" "+(x+.01*svg_width)+","+(y+10)+" "+(x-.01*svg_width)+","+(y+10)+" "
          return l
        })
        .attr("fill-opacity",0)
        .transition()
        .duration(1000)
          .attr("fill-opacity",1)
          .attr("fill","white")
          .attr("stroke-width",0)
          .attr("stroke","white")
  }
  function draw_stars(){
    for (i=0;i<200;i++){
      svg.append("circle")
          .attr("class","stars")
          .attr("cx",Math.random()*svg_width)
          .attr("cy",Math.random()*500)
          .attr("r",0)
          .attr("fill","white")
    }
  }

function draw_sun(){
  sun=svg.append("circle")
      .attr("id","sun")
      .attr("cx",.8*svg_width)
      .attr("cy",70)
      .attr("r",0)
      .attr("fill","yellow")
      .on("click",function(){
        d3.select(this).transition()
            .duration(2000)
            .ease(d3.easeLinear)
            .attr("cy",400)
        sky.transition()
            .duration(2000)
            .ease(d3.easeLinear)
            .style("fill","#000033")
        mountain_line.transition()
            .duration(2000)
            .ease(d3.easeLinear)
            .style("fill","#003400")
            .style("stroke","#003400")
        svg.selectAll(".stars").transition()
            .delay(2000)
            .duration(500)
            .attr("r",function(){
              if (Math.random()<.2){
                return Math.random()*4
              }
              return 1
            })
        svg.selectAll(".clouds").transition()
            .duration(1500)
            .attr("r",0)
        svg.selectAll(".lake").transition()
            .duration(1500)
            .style("fill","#000077")
            .style("stroke","#000077")
        svg.selectAll(".boat1").transition()
            .duration(1500)
            .style("fill","#777777")
        svg.selectAll(".foreground").transition()
            .duration(1500)
            .style("fill","#106F12")
        svg.select("#clickSun").transition()
            .duration(1500)
            .style("opacity",0)
        svg.transition()
            .duration(1000)
            .style("background-color","#111111")
        happyBirthday=svg.append("text")
                .attr("id","happyBirthday")
                .attr("x",svg_width/2)
                .attr("y",100)
                .attr("text-anchor","middle")
                .style("font-size",0)
                .attr("fill","white")
                .text("Happy Birthday!!!")
                .style("font-family","comic sans MS")
                .on("mouseover",function(){
                  d3.select(this)
                    .attr("fill","yellow")
                    .attr("cursor","pointer")
                })
                .on("mouseleave",function(){
                  d3.select(this)
                    .attr("fill","white")
                    .attr("cursor","default")
                })
        happyBirthday.transition()
                .delay(3000)
                .duration(500)
                  .style("font-size",80)
        goBack=svg.append("text")
                .attr("id","goBack")
                .attr("x",svg_width/2)
                .attr("y",200)
                .attr("text-anchor","middle")
                .style("font-size",0)
                .attr("fill","white")
                .text("Back to Menu")
                .on("mouseover",function(){
                  d3.select(this)
                    .attr("fill","yellow")
                    .attr("cursor","pointer")
                })
                .on("mouseleave",function(){
                  d3.select(this)
                    .attr("fill","white")
                    .attr("cursor","default")
                })
                .on("click",function(){
                  d3.select(this)
                    .transition()
                    .duration(1000)
                      .attr("y",-10000)
                      .on("end",function(){
                        svg.selectAll("rect")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.selectAll("polygon")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.selectAll("text")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.selectAll("path")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.selectAll("circle")
                            .transition()
                            .duration(500)
                              .style("opacity",0)
                              .remove()
                        svg.style("background-color","#7cdbd5")
                        show_menu()
                      })
                })
        goBack.transition()
                .delay(6000)
                .duration(500)
                  .style("font-size",50)

      })

  sun.transition()
      .duration(300)
        .attr("r",90)
  add_mountains=svg.append("text")
          .attr("id","addMountains")
          .attr("x",svg_width/2)
          .attr("y",300)
          .attr("text-anchor","middle")
          .style("font-size",0)
          .attr("fill","white")
          .text("And some Mountains??")
          .on("mouseover",function(){
            d3.select(this)
              .attr("fill","yellow")
              .attr("cursor","pointer")
          })
          .on("mouseleave",function(){
            d3.select(this)
              .attr("fill","white")
              .attr("cursor","default")
          })
          .on("click",function(){
            d3.select(this)
              .transition()
              .duration(1000)
                .attr("x",-10000)
                .on("end",draw_mountains)
          })
  add_mountains.transition()
          .delay(1000)
          .duration(1000)
            .style("font-size",50)

}
function draw_clouds(){
  for (var i=0;i<10;i++){
    svg.append("circle")
        .attr("class","clouds")
        .attr("cx",function(){
          return .2*svg_width+10*i+Math.random()*10
        })
        .attr("cy",function(){
          return 100
        })
        .style("fill","white")
        .transition()
        .attr("r",function(){
          r=25-(5-i)**2
          return r
        })

  }
  for (var i=0;i<10;i++){
    svg.append("circle")
        .attr("class","clouds")
        .attr("cx",function(){
          return .4*svg_width+10*i+Math.random()*10
        })
        .attr("cy",function(){
          return 150
        })
        .style("fill","white")
        .transition()
        .attr("r",function(){
          r=25-(5-i)**2
          return r
        })

  }
  for (var i=0;i<10;i++){
    svg.append("circle")
        .attr("class","clouds")
        .attr("cx",function(){
          return .7*svg_width+10*i+Math.random()*10
        })
        .attr("cy",function(){
          return 130
        })
        .style("fill","white")
        .transition()
        .attr("r",function(){
          r=25-(5-i)**2
          return r
        })
  }
  suggest_boat=svg.append("text")
          .attr("id","suggestBoat")
          .attr("x",svg_width/2)
          .attr("y",400)
          .attr("text-anchor","middle")
          .style("font-size",0)
          .attr("fill","white")
          .text("Hmmm..... Maybe click on the lake to add a boat or 2?")

  suggest_boat.transition()
          .delay(1000)
          .duration(1000)
            .style("font-size",50)

}


function draw_mountains(){
  // Draw the mountains
  mountain_data=[
    {"x":0,"y":400},
    {"x":.3*svg_width,"y":200},
    {"x":.5*svg_width,"y":340},
    {"x":.75*svg_width,"y":230},
    {"x":svg_width,"y":400},
    {"x":svg_width,"y":500},
    {"x":.5*svg_width,"y":550},
    {"x":0,"y":500},
  ]

  mountainFunction = d3.line()
                .x(function(d) { return d["x"]})
                .y(function(d) { return d["y"]})
                .curve(d3.curveCardinalClosed)
  mountain_line = svg.append("path")
                .attr("d",mountainFunction(mountain_data))
                .attr("stroke", "green")
                .attr("stroke-width", 3)
                .style("fill-opacity", 0)
                .attr("fill", "green")
  var mountainLength = mountain_line.node().getTotalLength();
  mountain_line.attr("stroke-dasharray", mountainLength + " " + mountainLength)
            .attr("stroke-dashoffset", mountainLength)
            .transition()
              .duration(1000)
              .ease(d3.easePoly)
              .attr("stroke-dashoffset", 0)
              .style("fill-opacity", 1)
  add_lake=svg.append("text")
          .attr("id","addLake")
          .attr("x",svg_width/2)
          .attr("y",600)
          .attr("text-anchor","middle")
          .style("font-size",0)
          .attr("fill","white")
          .text("And a Lake???")
          .on("mouseover",function(){
            d3.select(this)
              .attr("fill","yellow")
              .attr("cursor","pointer")
          })
          .on("mouseleave",function(){
            d3.select(this)
              .attr("fill","white")
              .attr("cursor","default")
          })
          .on("click",function(){
            d3.select(this)
              .transition()
              .duration(1000)
                .attr("x",-10000)
                .on("end",draw_lake)
          })
  add_lake.transition()
          .delay(1000)
          .duration(1000)
            .style("font-size",50)
}

function draw_lake(){
  // Draw the mountains
  lake_data=[
    {"x":0,"y":500},
    {"x":.5*svg_width,"y":550},
    {"x":svg_width,"y":500},
    {"x":svg_width,"y":600},
    {"x":.5*svg_width,"y":650},
    {"x":0,"y":600},
  ]

  lakeFunction = d3.line()
                .x(function(d) { return d["x"]})
                .y(function(d) { return d["y"]})
                .curve(d3.curveCardinalClosed)
  lake_line = svg.append("path")
                .attr("class","lake")
                .attr("d",lakeFunction(lake_data))
                .attr("stroke", "blue")
                .attr("stroke-width", 3)
                .style("fill-opacity", 0)
                .attr("fill", "blue")
  var lakeLength = lake_line.node().getTotalLength();
  lake_line.attr("stroke-dasharray", lakeLength + " " + lakeLength)
            .attr("stroke-dashoffset", lakeLength)
            .on("click",function(){
              x=d3.mouse(this)[0]
              y=d3.mouse(this)[1]
              draw_boats(x,y)
              if (d3.selectAll(".boat1")["_groups"][0].length==6){
                d3.select("#suggestBoat")
                  .transition()
                  .duration(1000)
                    .attr("y",-10000)
                add_flower=svg.append("text")
                    .attr("id","addFlower")
                    .attr("x",-1000)
                    .attr("y",700)
                    .attr("text-anchor","middle")
                    .style("font-size",50)
                    .attr("fill","white")
                    .text("And lastly, let's add a flower :)")
                    .on("mouseover",function(){
                      d3.select(this)
                        .attr("fill","yellow")
                        .attr("cursor","pointer")
                    })
                    .on("mouseleave",function(){
                      d3.select(this)
                        .attr("fill","white")
                        .attr("cursor","default")
                    })
                    .on("click",function(){
                      d3.select(this)
                        .transition()
                        .duration(1000)
                          .attr("y",-10000)
                          .on("end",draw_flower)
                    })
                add_flower.transition()
                        .delay(300)
                        .duration(1000)
                          .attr("x",svg_width/2)
              }
            })
  lake_line.transition()
              .duration(1000)
              .ease(d3.easePoly)
              .attr("stroke-dashoffset", 0)
              .style("fill-opacity", 1)
    add_clouds=svg.append("text")
            .attr("id","addClouds")
            .attr("x",svg_width/2)
            .attr("y",170)
            .attr("text-anchor","middle")
            .style("font-size",0)
            .attr("fill","white")
            .text("And maybe some Clouds????????")
            .on("mouseover",function(){
              d3.select(this)
                .attr("fill","yellow")
                .attr("cursor","pointer")
            })
            .on("mouseleave",function(){
              d3.select(this)
                .attr("fill","white")
                .attr("cursor","default")
            })
            .on("click",function(){
              d3.select(this)
                .transition()
                .duration(1000)
                  .attr("y",-10000)
                  .on("end",draw_clouds)
            })
    add_clouds.transition()
            .delay(300)
            .duration(1000)
              .style("font-size",50)

}
// draw_lake()



function draw_flower(){
  // These are the coordinates for the center of the flower
  endX=Math.random()*(.3*svg_width)+.4*svg_width
  // endY=Math.random()*400+300
  endY=700
  // Data for the Stem
  stem_data = [
    {"x":endX,"y":endY+300},
    {"x":endX,"y":endY}
  ]
  // Draw the stem
  stemFunction = d3.line()
                .x(function(d) { return d["x"]})
                .y(function(d) { return d["y"]})
                .curve(d3.curveBasis)
  stem_line = svg.append("path")
                .attr("d",stemFunction(stem_data))
                .attr("stroke", "#25e617")
                .attr("stroke-width", 3)
                .attr("fill", "none")
  var stemLength = stem_line.node().getTotalLength();
  stem_line.attr("stroke-dasharray", stemLength + " " + stemLength)
            .attr("stroke-dashoffset", stemLength)
            .transition()
              .duration(1000)
              .ease(d3.easePoly)
              .attr("stroke-dashoffset", 0)
  // Data for petals
  petal_data =[
    {"x":endX,"y":endY-20},
    {"x":endX-20,"y":endY-70},
    {"x":endX,"y":endY-120},
    {"x":endX+20,"y":endY-70},
    {"x":endX,"y":endY-20}
  ]
  // Draw the petals
  petalFunction = d3.line()
                .x(function(d) { return d["x"]-endX})
                .y(function(d) { return d["y"]-endY})
                .curve(d3.curveBasisClosed)
  for (var i=0;i<720;i+=20){
    angle=i+Math.random()*10
    petal_line = svg.append("path")
                  .attr("d",petalFunction(petal_data))
                  .attr("stroke", "black")
                  .attr("stroke-width", 2)
                  .attr("transform","translate("+endX+","+endY+")rotate("+angle+")")
                  .style("fill-opacity", 0)
                  .attr("fill", "yellow")

    var petalLength = petal_line.node().getTotalLength();
    petal_line.attr("stroke-dasharray", petalLength + " " + petalLength)
              .attr("stroke-dashoffset", petalLength)
              .transition()
                .delay(1400)
                .duration(1000)
                .ease(d3.easePoly)
                .attr("stroke-dashoffset", 0)
                .style("fill-opacity", 1)

  }
  // Draw the Circle of the flower
  svg.append("circle")
      .attr("cx",endX)
      .attr("cy",endY)
      .attr("r",0)
      .style("fill","#201815")
      .transition()
      .delay(1000)
      .duration(400)
        .attr("r",50)

    clickSun=svg.append("text")
            .attr("id","clickSun")
            .attr("x",svg_width/2)
            .attr("y",100)
            .attr("text-anchor","middle")
            .style("font-size",0)
            .attr("fill","white")
            .text("Click the Sun to see the Stars!")
    clickSun.transition()
            .delay(3000)
            .duration(500)
              .style("font-size",50)



}
d3.selectAll("image").on("mousemove",function(){
          // svg.style("cursor","none")
          fill="orange"
          stroke="purple"
          duration=100
          factor=20
          radius=7
          sw=3
          x=d3.mouse(this)[0]
          y=d3.mouse(this)[1]
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x)
              .attr("cy",y-1*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x+1*factor)
              .attr("cy",y-2*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x+2*factor)
              .attr("cy",y-2*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x+3*factor)
              .attr("cy",y-1*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x+3*factor)
              .attr("cy",y)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x+2*factor)
              .attr("cy",y+1*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x+1*factor)
              .attr("cy",y+2*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x)
              .attr("cy",y+3*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x-1*factor)
              .attr("cy",y+2*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x-2*factor)
              .attr("cy",y+1*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x-2*factor)
              .attr("cy",y+1*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x-3*factor)
              .attr("cy",y)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x-3*factor)
              .attr("cy",y-1*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x-2*factor)
              .attr("cy",y-2*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
          svg.append("circle")
              .attr("class","heartCircles")
              .attr("cx",x-1*factor)
              .attr("cy",y-2*factor)
              .attr("r",radius)
              .attr("stroke-width",sw)
              .attr("stroke",stroke)
              .attr("fill",fill)
              .transition()
              .duration(duration)
                .attr("r",0)
                .remove()
        })




  </script>
</html>
